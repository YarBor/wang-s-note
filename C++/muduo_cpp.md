一个函数如果要所知相同类型的多个对象 为了保证始终按相同的顺序加锁 可以比较mutex对象的地址 **始终加锁地址较小的mutex**


可重入和线程安全是两个相关但不同的概念。

可重入是指一个函数可以被多个线程同时调用，且在不需要额外同步机制的情况下，仍然能够正常工作。换句话说，如果一个函数是可重入的，那么它在执行过程中不会出现与其他调用者相互干扰的问题。

线程安全是指一个方法或者类，在多线程环境中，可以保证多个线程调用时不会造成不可预期的结果，即使这些线程在某个点上同时进入共享资源也不会破坏数据的完整性和一致性。

虽然可重入和线程安全都涉及到并发编程的问题，但二者之间有差异。可重入更注重单个线程内的调用顺序带来的问题，而线程安全则是着眼于多个线程之间共享资源时可能带来的问题。可重入往往通过把状态保存在栈上来解决，而线程安全通常通过使用锁、非阻塞算法等方式来解决。

因此，在编写多线程代码时，需要考虑是否需要同时满足可重入和线程安全的要求。如果仅需要支持单线程或无需在多个线程之间共享状态，则只需要关注可重入问题；如果需要在多线程环境中，确保共享资源安全地访问，则需要同时保证可重入和线程安全。

